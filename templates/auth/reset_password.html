{% extends 'base.html' %}
{% from 'macros/_forms.html' import email_input, password_input, confirm_password_input, text_input %}
{% from 'macros/_cards.html' import auth_card, auth_footer %}
{% from 'macros/_buttons.html' import submit_button %}

{% block title %}Restablecer contraseña - Terapia{% endblock %}

{% block main %}
    {% call auth_card('key', 'Restablecer contraseña', 'Ingresa tus datos para recuperar tu cuenta') %}
        <form method="post">
            {{ form.hidden_tag() }}
            
            {{ email_input(form.email) }}
            {{ password_input(form.new_password, label='Nueva contraseña', autocomplete='new-password') }}
            {{ confirm_password_input(form.confirm_password) }}
            {{ text_input(form.security, label='Pregunta de seguridad: ¿Cuándo cumple años Simón?', icon='shield-check') }}

            {{ submit_button('Restablecer contraseña', icon='arrow-repeat') }}
        </form>
        
        {{ auth_footer([
            (url_for('auth.login'), '<i class="bi bi-arrow-left me-1"></i>Volver al inicio de sesión', true)
        ]) }}
    {% endcall %}
{% endblock %}
